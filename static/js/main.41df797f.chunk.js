(this["webpackJsonpvoirsy-front-end"]=this["webpackJsonpvoirsy-front-end"]||[]).push([[0],{375:function(e,t,n){},376:function(e,t,n){"use strict";n.r(t);var a,r=n(1),i=n.n(r),c=n(54),o=n.n(c),s=n(23),l=n(30),d=n(7),j=n(160),u=n(409),b=n(472),p=n(473),O=n(408),h=n(378),m=n(406),x=Object(m.a)(b.a)((function(e){var t=e.theme;return{color:t.palette.text.primary,borderColor:Object(h.a)(t.palette.common.black,.23),"&:hover":{borderColor:Object(h.a)(t.palette.common.black,.23)}}})),f=n(0),v=function(e){var t=e.children;return Object(f.jsx)(x,{variant:"outlined",fullWidth:!0,size:"large",component:s.b,to:"/",children:t})},g=n(407),y=n(471),w=n(87),S=n(51),k="https://voirsy-backend.herokuapp.com",I="/profile/favorites",T="/profile",C="/profile",z="/profile",D=function(){return!!localStorage.getItem("JWT_TOKEN")},F=function(){return localStorage.getItem("JWT_TOKEN")||""},A=function(e){localStorage.removeItem("JWT_TOKEN"),e("/")},B=function(e){var t="Bearer ".concat(F());return t&&e.set("Authorization",t),e},q=Object(w.a)({reducerPath:"profileApi",baseQuery:Object(S.d)({baseUrl:k,prepareHeaders:function(e){return B(e)}}),endpoints:function(e){return{fetchAllUsersFavorites:e.query({query:function(){return"".concat(I)},transformResponse:function(e){return e.favorites}}),changePassword:e.mutation({query:function(e){return{url:"".concat(T),method:"POST",body:e}}}),deleteAccount:e.mutation({query:function(){return{url:"".concat(C),method:"DELETE"}}}),changeUserData:e.mutation({query:function(e){return{url:"".concat(z),method:"PATCH",body:e}},transformResponse:function(e){return e.user}})}}}),E=q.useFetchAllUsersFavoritesQuery,W=q.useChangePasswordMutation,M=q.useDeleteAccountMutation,P=q.useChangeUserDataMutation,_=n(36),R=function(){var e=M(),t=Object(d.a)(e,2),n=t[0],a=t[1],i=a.isSuccess,c=a.isError,o=a.isLoading,s=Object(_.b)().enqueueSnackbar,h=Object(g.a)("profile"),m=Object(d.a)(h,1)[0],x=Object(l.g)();return Object(r.useEffect)((function(){i&&(s(m("delete.successMsg"),{variant:"success"}),A(x.push)),c&&s(m("delete.errorMsg"),{variant:"error"})}),[i,c]),Object(f.jsxs)(O.a,{component:"main",maxWidth:400,margin:"0 auto",padding:2,children:[Object(f.jsx)(j.a,{marginBottom:6,variant:"h4",component:"h1",textAlign:"center",children:m("delete.heading")}),Object(f.jsx)(j.a,{marginBottom:10,textAlign:"center",fontSize:"1.25rem",children:Object(f.jsx)(y.a,{defaults:m("delete.content"),components:[Object(f.jsx)("strong",{},"delete")]})}),Object(f.jsxs)(u.a,{direction:"row",spacing:2.5,children:[Object(f.jsx)(v,{children:m("delete.action.cancel")}),Object(f.jsx)(b.a,{disabled:o,variant:"contained",fullWidth:!0,size:"large",color:"error",onClick:function(){return n()},children:o?Object(f.jsx)(p.a,{size:25}):m("delete.action.delete")})]})]})},L=n(480),U=n(416),H=n(466),N=n(414),V=n(481),Q=n(46),Z=n(465),G=n(457),J=n(417),$=n(459),K=n(415),X=n(3),Y=n(5),ee=n(204),te=n(19),ne=Object(ee.a)({palette:{primary:{light:"#66e0ff",main:"#19aed4",dark:"#007ea3",contrastText:te.a.grey[50]},secondary:{light:"#fa70ab",main:"#c43d7c",dark:"#8f0050",contrastText:"#fff"},text:{primary:te.a.grey[900],secondary:te.a.grey[600]}}}),ae=Object(Y.a)("div")((function(){return Object(X.a)({boxSizing:"border-box",height:"40px",border:"1px solid ".concat(ne.palette.grey[400]),borderRadius:ne.shape.borderRadius,display:"flex",alignItems:"center",width:"100%",div:{flexGrow:1},button:{margin:"0 ".concat(ne.spacing(1))},":focus-within":{border:"1px solid ".concat(ne.palette.primary.main)}},ne.breakpoints.up("sm"),{maxWidth:"400px"})}));!function(e){e.MostPopular="Most popular",e.TopRated="Top rated",e.QuantityOfRating="Quantity of ratings"}(a||(a={}));var re,ie,ce,oe=n(463),se=function(e){var t=e.label,n=e.onDelete;return Object(f.jsx)(oe.a,{label:t,onDelete:n,color:"secondary",sx:{textTransform:"capitalize"}})},le=n(17),de=n(151),je=n(456),ue=n(474),be=Object(Y.a)(j.a,{shouldForwardProp:function(e){return"isOpen"!==e}})((function(e){var t=e.isOpen;return Object(X.a)({position:"absolute",inset:0,display:"flex",alignItems:"center",paddingLeft:ne.spacing(1),color:t?ne.palette.background.paper:ne.palette.text.primary,textTransform:"uppercase"},ne.breakpoints.up("sm"),{paddingLeft:ne.spacing(2)})})),pe=Object(Y.a)(ue.a,{shouldForwardProp:function(e){return"isOpen"!==e}})((function(e){var t=e.isOpen;return Object(X.a)({flexGrow:1,minWidth:"130px",borderRadius:ne.shape.borderRadius,background:t?ne.palette.primary.main:ne.palette.background.paper,"svg *":{fill:t?ne.palette.background.paper:ne.palette.text.primary}},ne.breakpoints.up("sm"),{maxWidth:"180px"})})),Oe=["label","children","MenuProps"],he=function(e){var t=e.label,n=e.children,a=e.MenuProps,i=Object(de.a)(e,Oe),c=Object(r.useState)(!1),o=Object(d.a)(c,2),s=o[0],l=o[1];return Object(f.jsxs)(pe,{isOpen:s,children:[Object(f.jsx)(be,{isOpen:s,variant:"body2",id:"location-helper-label",children:t}),Object(f.jsx)(je.a,Object(le.a)(Object(le.a)({onOpen:function(){return l(!0)},onClose:function(){return l(!1)},labelId:"location-helper-label",id:"location-helper",color:"primary",renderValue:function(){return""},size:"small",MenuProps:Object(le.a)({transformOrigin:{vertical:"top",horizontal:"left"},anchorOrigin:{vertical:"bottom",horizontal:"left"}},a)},i),{},{children:n}))]})},me="/salons/",xe="/category",fe="/cities",ve="/profile/favorites",ge="/profile/favorites",ye=Object(w.a)({reducerPath:"salonsApi",baseQuery:Object(S.d)({baseUrl:k,prepareHeaders:function(e){return B(e)}}),endpoints:function(e){return{fetchAllSalons:e.query({query:function(e){var t=e.location,n=void 0===t?"":t,a=e.search,r=void 0===a?"":a,i=e.sortBy,c=void 0===i?"":i,o=e.salonType,s=void 0===o?"":o,l={search:r};return n&&(l.location=n),c&&(l.sortBy=c),s.length>0&&(l.salonType=s),{url:"".concat(me),method:"post",body:l}}}),fetchAllCities:e.query({query:function(){return"".concat(fe)}}),fetchAllCategories:e.query({query:function(){return"".concat(xe)}}),addToFavorites:e.mutation({query:function(e){return{url:"".concat(ve),method:"POST",body:e}}}),removeFromFavorites:e.mutation({query:function(e){return{url:"".concat(ge),method:"DELETE",body:e}}})}}}),we=ye.useLazyFetchAllSalonsQuery,Se=ye.useFetchAllCategoriesQuery,ke=ye.useFetchAllCitiesQuery,Ie=ye.useAddToFavoritesMutation,Te=ye.useRemoveFromFavoritesMutation,Ce=n(22),ze=n(18),De=Object(ze.d)({name:"salonsFilters",initialState:{sortBy:"",search:"",location:"",salonType:[]},reducers:{setFilters:function(e,t){var n=t.payload;void 0!==n.search&&(e.search=n.search),void 0!==n.sortBy&&(e.sortBy=n.sortBy),void 0!==n.location&&(e.location=n.location),void 0!==n.salonType&&(e.salonType=n.salonType)}}}),Fe=De.actions.setFilters,Ae=De.reducer,Be=function(){var e,t,n=Object(g.a)(["home","common"]),i=Object(d.a)(n,1)[0],c=Object(Ce.e)((function(e){return e.salonsFilters})),o=Object(Ce.d)(),s=Object(N.a)(ne.breakpoints.up("sm")),l=Object(r.useState)(c.search),j=Object(d.a)(l,2),b=j[0],O=j[1],h=Se(),m=h.data,x=h.isFetching,v=ke(),y=v.data,w=v.isFetching,S=function(){return o(Fe({search:b}))};return Object(f.jsxs)(L.a,{component:"nav",maxWidth:!1,children:[Object(f.jsxs)(u.a,{direction:s?"row":"column",spacing:s?2:1,children:[Object(f.jsxs)(ae,{children:[Object(f.jsx)(V.a,{"aria-label":"menu",size:"small",onClick:S,children:Object(f.jsx)(K.a,{})}),Object(f.jsx)(Q.c,{placeholder:"".concat(i("filters.search.label"),"..."),inputProps:{"aria-label":i("filters.search.ariaLabel")},value:b,onChange:function(e){return O(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&S()}})]}),Object(f.jsxs)(u.a,{direction:"row",spacing:s?2:1,width:"100%",overflow:s?"visible":"auto",children:[Object(f.jsx)(he,{label:i("filters.location.label"),value:c.location,onChange:function(e){return o(Fe({location:e.target.value}))},MenuProps:{style:{maxHeight:"300px"}},children:w?Object(f.jsx)(U.a,{display:"flex",justifyContent:"center",padding:"10px 0",children:Object(f.jsx)(p.a,{})}):null===y||void 0===y?void 0:y.cities.map((function(e){return Object(f.jsxs)(Z.a,{value:e._id,sx:{textTransform:"capitalize",paddingRight:3},children:[Object(f.jsx)(G.a,{checked:e._id===c.location}),Object(f.jsx)(J.a,{primary:e.name})]},e._id)}))}),Object(f.jsx)(he,{label:i("filters.salonType.label"),value:c.salonType,onChange:function(e){return o(Fe({salonType:e.target.value}))},multiple:!0,children:x?Object(f.jsx)(U.a,{display:"flex",justifyContent:"center",padding:"10px 0",children:Object(f.jsx)(p.a,{})}):null===m||void 0===m?void 0:m.categories.map((function(e){return Object(f.jsxs)(Z.a,{value:e._id,sx:{textTransform:"capitalize",paddingRight:3},children:[Object(f.jsx)($.a,{checked:c.salonType.indexOf(e._id)>-1}),Object(f.jsx)(J.a,{primary:i("salonType.".concat(e.name.toLowerCase()),{ns:"common"})})]},e._id)}))}),Object(f.jsx)(he,{label:i("sortBy.label"),value:c.sortBy,onChange:function(e){return o(Fe({sortBy:e.target.value}))},children:Object.entries(a).map((function(e){return Object(f.jsxs)(Z.a,{value:e[0],sx:{paddingRight:3},children:[Object(f.jsx)(G.a,{checked:e[0]===c.sortBy}),Object(f.jsx)(J.a,{primary:i("sortBy.options.".concat(e[0]))})]},e[0])}))})]})]}),Object(f.jsxs)(u.a,{direction:"row",spacing:s?2:1,width:"100%",overflow:"auto",marginTop:s?2:1,children:[""!==c.location&&Object(f.jsx)(se,{label:"".concat(i("filters.location.label"),": ").concat(null===y||void 0===y||null===(e=y.cities.find((function(e){return e._id===c.location})))||void 0===e?void 0:e.name),onDelete:function(){return o(Fe({location:""}))}}),c.salonType.length>0&&c.salonType.map((function(e){var t;return Object(f.jsx)(se,{label:"".concat(i("filters.salonType.label"),": ").concat(null===m||void 0===m||null===(t=m.categories.find((function(t){return t._id===e})))||void 0===t?void 0:t.name),onDelete:function(){return o(Fe({salonType:c.salonType.filter((function(t){return t!==e}))}))}},e)})),""!==c.sortBy&&Object(f.jsx)(se,{label:"".concat(i("sortBy.label"),": ").concat(null===(t=Object.entries(a).find((function(e){return e[0]===c.sortBy})))||void 0===t?void 0:t[1]),onDelete:function(){return o(Fe({sortBy:""}))}})]})]})},qe=n(484),Ee=n(418),We=n(419),Me=n(420),Pe=n(421),_e=n(422),Re=n(47),Le=n(482),Ue=n(483),He=Object(Y.a)(Le.a)(re||(re=Object(Re.a)(["\n  position: relative;\n"]))),Ne=Object(Y.a)(Ue.a)(ie||(ie=Object(Re.a)(["\n  position: relative;\n\n  :last-child {\n    padding-bottom: ",";\n  }\n"])),ne.spacing(2)),Ve=Object(Y.a)(oe.a)((function(){return{position:"absolute",background:ne.palette.background.paper,top:"10px",left:"10px",".MuiChip-icon":{color:ne.palette.warning.light}}})),Qe=Object(Y.a)(V.a)((function(){return{position:"absolute",background:ne.palette.background.paper,top:"-".concat(ne.spacing(3)),right:ne.spacing(2),boxShadow:ne.shadows[6],":hover":{backgroundColor:ne.palette.background.paper},":disabled":{background:ne.palette.background.paper}}})),Ze=Object(Y.a)(s.b)((function(){return{textDecoration:"none",color:ne.palette.text.primary,":hover":{color:ne.palette.text.secondary}}}));!function(e){e.Standard="STANDARD",e.Business="BUSINESS"}(ce||(ce={}));var Ge=n(24),Je=Object(ze.d)({name:"user",initialState:null,reducers:{setUserData:function(e,t){return t.payload},removeFromFav:function(e,t){var n=t.payload;(null===e||void 0===e?void 0:e.favorites)&&(e.favorites=e.favorites.filter((function(e){return e!==n})))},addToFav:function(e,t){var n=t.payload;(null===e||void 0===e?void 0:e.favorites)&&(e.favorites=[].concat(Object(Ge.a)(e.favorites),[n]))}}}),$e=Je.actions,Ke=$e.setUserData,Xe=$e.removeFromFav,Ye=$e.addToFav,et=Je.reducer,tt=function(e){var t=e.imageUrl,n=e.name,a=e.city,i=e.address,c=e.rating,o=e.salonType,s=e._id,l=Ie(),b=Object(d.a)(l,2),O=b[0],h=b[1],m=h.isError,x=h.isSuccess,v=h.isLoading,y=Te(),w=Object(d.a)(y,2),S=w[0],k=w[1],I=k.isError,T=k.isSuccess,C=k.isLoading,z=Object(Ce.d)(),F=Object(_.b)().enqueueSnackbar,A=Object(g.a)("common"),B=Object(d.a)(A,1)[0],q=Object(Ce.e)((function(e){var t;return null===(t=e.user)||void 0===t?void 0:t.role})),E=Object(Ce.e)((function(e){var t;return null===(t=e.user)||void 0===t?void 0:t.favorites}))||[],W=D()&&q!==ce.Business,M=Object(r.useState)(!1),P=Object(d.a)(M,2),R=P[0],L=P[1];Object(r.useEffect)((function(){L(Boolean(E.find((function(e){return e===s}))))}),[]),Object(r.useEffect)((function(){m&&F(B("favoriteMsg.errorAdd",{ns:"home"}),{variant:"error"}),x&&(F(B("favoriteMsg.successAdd",{ns:"home"}),{variant:"success"}),L(!0),z(Ye(s)))}),[m,x]),Object(r.useEffect)((function(){I&&F(B("favoriteMsg.errorRemove",{ns:"home"}),{variant:"error"}),T&&(F(B("favoriteMsg.successRemove",{ns:"home"}),{variant:"success"}),L(!1),z(Xe(s)))}),[I,T]);var U=R?Object(f.jsx)(Ee.a,{}):Object(f.jsx)(We.a,{});return Object(f.jsxs)(He,{children:["0"!==c&&Object(f.jsx)(Ve,{size:"small",label:Math.round(10*parseFloat(c))/10,icon:Object(f.jsx)(Me.a,{})}),Object(f.jsx)(qe.a,{component:"img",height:"160",image:t,alt:n}),Object(f.jsxs)(Ne,{children:[W&&Object(f.jsx)(Qe,{size:"large",disabled:v||C,onClick:function(){return R?S({salonId:s}):O({salonId:s})},children:v||C?Object(f.jsx)(p.a,{size:24}):U}),Object(f.jsx)(j.a,{gutterBottom:!0,variant:"subtitle1",component:"div",noWrap:!0,maxWidth:W?"90%":"100%",children:Object(f.jsx)(Ze,{to:"/".concat(s),children:n})}),Object(f.jsxs)(u.a,{direction:"row",spacing:1,marginBottom:1,alignItems:"center",children:[Object(f.jsx)(Pe.a,{sx:{color:"text.secondary",fontSize:20}}),Object(f.jsx)(j.a,{variant:"body2",color:"text.secondary",noWrap:!0,children:i})]}),Object(f.jsxs)(u.a,{direction:"row",spacing:1,marginBottom:1.5,alignItems:"center",children:[Object(f.jsx)(_e.a,{sx:{color:"text.secondary",fontSize:20}}),Object(f.jsx)(j.a,{variant:"body2",color:"text.secondary",noWrap:!0,children:a})]}),Object(f.jsx)(u.a,{direction:"row",spacing:1,children:o.map((function(e){return Object(f.jsx)(oe.a,{label:B("salonType.".concat(e.toLowerCase())),size:"small",color:"secondary"},e)}))})]})]})},nt=function(){var e=Object(g.a)("home"),t=Object(d.a)(e,1)[0],n=we(),a=Object(d.a)(n,2),i=a[0],c=a[1],o=c.isError,s=c.data,l=void 0===s?{salons:[],message:""}:s,u=c.isFetching,b=Object(Ce.e)((function(e){return e.salonsFilters}));return Object(r.useEffect)((function(){i({})}),[]),Object(r.useEffect)((function(){i(b)}),[b]),o?Object(f.jsx)(j.a,{children:t("error.unknown")}):Object(f.jsxs)("main",{children:[Object(f.jsx)(Be,{}),Object(f.jsxs)(L.a,{maxWidth:!1,sx:{display:"flex",justifyContent:"center",marginTop:4},children:[u&&Object(f.jsx)(U.a,{children:Object(f.jsx)(p.a,{})}),!u&&l.salons.length>0&&Object(f.jsx)(H.a,{container:!0,spacing:3,children:l.salons.map((function(e,t){return Object(f.jsx)(H.a,{item:!0,xs:12,sm:6,md:4,lg:3,children:Object(f.jsx)(tt,{_id:e._id,address:e.address,city:e.city,imageUrl:e.imageUrl,name:e.name,salonType:e.type,rating:e.rating})},t)}))}),!u&&0===l.salons.length&&Object(f.jsx)(j.a,{variant:"h5",children:"There are no salons to show"})]})]})},at=n(424),rt=n(425),it=n(485),ct=n(488),ot=["label","error"],st=Object(r.forwardRef)((function(e,t){var n=e.label,a=e.error,i=Object(de.a)(e,ot),c=Object(r.useState)(!1),o=Object(d.a)(c,2),s=o[0],l=o[1];return Object(f.jsx)(it.a,Object(le.a)(Object(le.a)({},i),{},{InputProps:{endAdornment:Object(f.jsx)(ct.a,{position:"end",children:Object(f.jsx)(V.a,{onClick:function(){return l((function(e){return!e}))},edge:"end",children:s?Object(f.jsx)(at.a,{}):Object(f.jsx)(rt.a,{})})})},inputRef:t,fullWidth:!0,id:n,label:n,variant:"outlined",type:s?"text":"password",margin:"dense",error:!!a,helperText:null===a||void 0===a?void 0:a.message,size:"small"}))}));st.displayName="PasswordTextField";var lt,dt,jt=st,ut=n(37),bt=function(){var e=W(),t=Object(d.a)(e,2),n=t[0],a=t[1],i=a.isSuccess,c=a.isError,o=a.isLoading,s=Object(_.b)().enqueueSnackbar,l=Object(g.a)(["profile","validation"]),h=Object(d.a)(l,1)[0],m=Object(ut.b)({defaultValues:{currentPassword:"",newPassword:""},mode:"all"}),x=m.handleSubmit,y=m.control,w=m.watch,S=m.reset,k=Object(r.useRef)({});k.current=w("currentPassword","");return Object(r.useEffect)((function(){i&&(s(h("password.successMsg"),{variant:"success"}),S()),c&&s(h("password.errorMsg"),{variant:"error"})}),[i,c]),Object(f.jsxs)(O.a,{component:"main",maxWidth:400,margin:"0 auto",padding:2,children:[Object(f.jsx)(j.a,{marginBottom:6,variant:"h4",component:"h1",textAlign:"center",children:h("password.heading")}),Object(f.jsx)(O.a,{component:"form",onSubmit:x((function(e){return n({newPassword:e.newPassword,oldPassword:e.currentPassword})})),children:Object(f.jsxs)(u.a,{spacing:2.5,children:[Object(f.jsx)(ut.a,{name:"currentPassword",control:y,rules:{required:h("common.required",{ns:"validation"}),minLength:{value:8,message:h("common.minLength",{min:8,ns:"validation"})}},render:function(e){var t=e.field,n=e.fieldState.error;return Object(f.jsx)(jt,Object(le.a)({label:h("password.input.currentPassword"),error:n},t))}}),Object(f.jsx)(ut.a,{name:"newPassword",control:y,rules:{required:h("common.required",{ns:"validation"}),validate:function(e){return e!==k.current||h("password.cantMatch",{ns:"validation"})},minLength:{value:8,message:h("common.minLength",{min:8,ns:"validation"})}},render:function(e){var t=e.field,n=e.fieldState.error;return Object(f.jsx)(jt,Object(le.a)({label:h("password.input.newPassword"),error:n},t))}}),Object(f.jsxs)(u.a,{direction:"row",spacing:2.5,children:[Object(f.jsx)(v,{children:h("delete.action.cancel")}),Object(f.jsx)(b.a,{disabled:o,variant:"contained",fullWidth:!0,size:"large",type:"submit",sx:{color:"common.white"},children:o?Object(f.jsx)(p.a,{size:25}):h("password.action.save")})]})]})})]})},pt=n(25),Ot=n.n(pt),ht=n(33),mt=n(454),xt=n(315),ft=n.n(xt),vt=n(61),gt=n.n(vt),yt=n(426),wt=n(202),St=n.n(wt),kt=n(467),It=Object(m.a)("div")((function(){return{margin:"0 auto 80px",position:"relative",width:216,".files-dropzone::after":{content:"'Drop files here'",display:"flex",justifyContent:"center",alignItems:"center",fontFamily:ne.typography.fontFamily,position:"absolute",inset:0,fontSize:ne.typography.h6.fontSize,borderRadius:"50%",backgroundColor:"transparent",color:"transparent",transition:"background-color ".concat(ne.transitions.duration.shorter,"ms ").concat(ne.transitions.easing.easeInOut,", color ").concat(ne.transitions.duration.shorter,"ms ").concat(ne.transitions.easing.easeInOut," ")},".files-dropzone-active::after":{color:ne.palette.common.white,backgroundColor:ne.palette.text.disabled}}})),Tt=Object(m.a)(kt.a)((function(){return{width:216,height:216}})),Ct=(Object(m.a)("input")((function(){return{display:"none"}})),Object(m.a)("div")((function(){return{position:"absolute",bottom:"5%",right:"5%",background:ne.palette.secondary.main,borderRadius:"50%",zIndex:4,border:"2px solid ".concat(ne.palette.common.white),cursor:"pointer","& svg":{fill:ne.palette.common.white}}}))),zt=function(e){var t=e.url,n=e.handleChangeImg,a=Object(_.b)().enqueueSnackbar,r=Object(g.a)(["profile","validation"]),i=Object(d.a)(r,1)[0],c=function(e){var t=e.code;a(i("file.errors.".concat(t-1)),{variant:"error"})};return Object(f.jsx)(It,{children:Object(f.jsx)(St.a,{accepts:["image/*"],multiple:!1,maxFileSize:2e6,clickable:!1,onChange:n,onError:c,children:Object(f.jsxs)(O.a,{position:"relative",width:"fit-content",children:[Object(f.jsx)(Tt,{alt:"Avatar image",src:t}),Object(f.jsx)(Ct,{children:Object(f.jsx)(St.a,{accepts:["image/*"],multiple:!1,maxFileSize:2e6,onChange:n,onError:c,children:Object(f.jsx)(V.a,{color:"inherit","aria-label":i("edit.form.file.uploadAria"),component:"span",size:"large",children:Object(f.jsx)(yt.a,{})})})})]})})})},Dt="/image-upload",Ft=function(){var e=Object(r.useState)(!1),t=Object(d.a)(e,2),n=t[0],a=t[1],i=Object(r.useState)(null),c=Object(d.a)(i,2),o=c[0],s=c[1],l=P(),h=Object(d.a)(l,2),m=h[0],x=h[1],y=x.isSuccess,w=x.isError,S=x.data,I=Object(Ce.d)(),T=Object(_.b)().enqueueSnackbar,C=Object(Ce.e)((function(e){return e.user})),z=Object(r.useState)((null===C||void 0===C?void 0:C.avatarUrl)||void 0),D=Object(d.a)(z,2),F=D[0],A=D[1],B=Object(g.a)(["profile","validation"]),q=Object(d.a)(B,1)[0],E=Object(ut.b)({defaultValues:{fullname:null===C||void 0===C?void 0:C.fullname,email:null===C||void 0===C?void 0:C.email,birthdate:(null===C||void 0===C?void 0:C.birthdate)||"",phone:(null===C||void 0===C?void 0:C.phone)||""},mode:"all"}),W=E.handleSubmit,M=E.control,R=E.setValue,L=E.register,U=E.formState.errors,H=function(){var e=Object(ht.a)(Ot.a.mark((function e(t){var n,r,i;return Ot.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(le.a)({},t),e.prev=1,a(!0),r=null,null===o){e.next=10;break}return e.next=7,gt.a.post("".concat(k).concat(Dt),o);case 7:i=e.sent,console.log(i),i&&i.data.links&&1===i.data.links.length&&(r=i.data.links[0]);case 10:null!==r&&(n.avatarUrl=r),m(n),a(!1),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),T(q("edit.errorMsg"),{variant:"error"});case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){y&&T(q("edit.successMsg"),{variant:"success"}),w&&T(q("edit.errorMsg"),{variant:"error"}),S&&I(Ke(S))}),[y,w,S]),Object(f.jsxs)(O.a,{component:"main",maxWidth:400,margin:"0 auto",padding:2,children:[Object(f.jsx)(j.a,{marginBottom:6,variant:"h4",component:"h1",textAlign:"center",children:q("edit.heading")}),Object(f.jsx)(zt,{url:F,handleChangeImg:function(e){var t=new FormData;e&&e.length>0&&e[0].preview.url?(A(e[0].preview.url),t.append("avatar",e[0]),s(t)):s(null)}}),Object(f.jsx)(O.a,{component:"form",onSubmit:W(H),children:Object(f.jsxs)(u.a,{spacing:2.5,children:[Object(f.jsx)(it.a,Object(le.a)(Object(le.a)({variant:"outlined",type:"text",size:"small",label:q("edit.input.fullname")},L("fullname",{required:q("common.required")})),{},{error:!!U.fullname,helperText:!!U.fullname&&U.fullname.message})),Object(f.jsx)(it.a,Object(le.a)(Object(le.a)({variant:"outlined",type:"email",size:"small",label:q("edit.input.email")},L("email",{required:q("common.required"),minLength:{value:3,message:q("common.minLength",{min:"3"})},pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:q("common.invalidFormat",{format:"email"})}})),{},{error:!!U.email,helperText:!!U.email&&U.email.message})),Object(f.jsx)(ut.a,{name:"birthdate",control:M,render:function(e){var t=e.field,n=e.fieldState.error;return Object(f.jsx)(mt.a,{inputFormat:"dd-MM-yyyy",mask:"__-__-____",label:q("edit.input.birthdate"),onChange:function(e){return R("birthdate",(null===e||void 0===e?void 0:e.toString())||"",{shouldValidate:!0,shouldDirty:!0})},value:t.value,maxDate:new Date,minDate:new Date("1900-01-01"),renderInput:function(e){return Object(f.jsx)(it.a,Object(le.a)(Object(le.a)(Object(le.a)({},e),t),{},{error:!!n,helperText:null===n||void 0===n?void 0:n.message,fullWidth:!0,size:"small"}))}})}}),Object(f.jsx)(ut.a,{name:"phone",control:M,rules:{pattern:{value:/^$|^___-___-___$|^[0-9]{3}-[0-9]{3}-[0-9]{3}$/,message:q("validation:common.invalidFormat",{format:"phone number"})}},render:function(e){var t=e.field,n=e.fieldState.error;return Object(f.jsx)(ft.a,Object(le.a)(Object(le.a)({},Object(le.a)(Object(le.a)({},t),{},{error:n})),{},{mask:"999-999-999",children:function(e){var t;return Object(f.jsx)(it.a,Object(le.a)(Object(le.a)({},e),{},{fullWidth:!0,label:q("edit.input.phonenumber"),type:"tel",size:"small",error:!!e.error,helperText:null===(t=e.error)||void 0===t?void 0:t.message}))}}))}}),Object(f.jsxs)(u.a,{direction:"row",spacing:2.5,children:[Object(f.jsx)(v,{children:q("delete.action.cancel")}),Object(f.jsx)(b.a,{disabled:n,variant:"contained",fullWidth:!0,size:"large",type:"submit",sx:{color:"common.white"},children:n?Object(f.jsx)(p.a,{size:25}):q("edit.action.save")})]})]})})]})},At=n(427),Bt=n(455),qt=n(468),Et="/profile",Wt=gt.a.create({baseURL:k,headers:{Authorization:"Bearer ".concat(F())}}),Mt=function(e){var t=e.children,n=Object(Ce.d)(),a=Object(l.g)(),i=Object(r.useState)(null),c=Object(d.a)(i,2),o=c[0],s=c[1],j=function(){var e=Object(ht.a)(Ot.a.mark((function e(){var t,r;return Ot.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.prev=1,e.next=4,Wt.get(Et);case 4:t=e.sent,r=t.data,n(Ke(r.user)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0),A(a.push);case 13:return e.prev=13,s(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,9,13,16]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){D()&&j()}),[]),!D()||D()&&!1===o?Object(f.jsx)("div",{children:t}):Object(f.jsx)(O.a,{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",children:Object(f.jsx)(p.a,{})})},Pt=function(e){var t=e.children;return Object(f.jsx)(Mt,{children:Object(f.jsx)(_.a,{children:Object(f.jsx)(At.b,{dateAdapter:Bt.a,children:Object(f.jsx)(qt.a,{theme:ne,children:t})})})})},_t=n(429),Rt=function(){var e=Object(ut.b)({mode:"onChange"}),t=e.register,n=e.handleSubmit,a=e.formState,r=a.errors,i=a.isDirty,c=a.isValid,o=Object(l.g)(),s=Object(l.j)().url,j=Object(g.a)("login"),u=Object(d.a)(j,1)[0],b=function(){var e=Object(ht.a)(Ot.a.mark((function e(t){var n;return Ot.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gt.a.post("".concat(k,"/auth/checkemail"),t);case 2:(n=e.sent).data.exist?o.push({pathname:"".concat(s,"/signin"),state:n.data.email}):o.push({pathname:"".concat(s,"/signup"),state:n.data.email});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsx)("form",{onSubmit:n(b),children:Object(f.jsx)(it.a,Object(le.a)(Object(le.a)({variant:"outlined",type:"text",size:"small",label:u("form.email.label"),InputProps:{endAdornment:Object(f.jsx)(V.a,{edge:"end",type:"submit",color:"primary",disabled:!i||!c,children:Object(f.jsx)(_t.a,{})})}},t("email",{required:{value:!0,message:u("form.email.validation.required")},minLength:{value:3,message:u("form.email.validation.minLength")},pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:u("form.email.validation.pattern")}})),{},{error:!!r.email,helperText:r.email&&r.email.password}))})},Lt=n(430),Ut=n(431),Ht="/business/salons",Nt=function(e){return"/business/salon/".concat(e,"/info")},Vt=function(e){return"/business/salon/".concat(e,"/schedule")},Qt=function(e){return"/business/salon/".concat(e,"/portfolio")},Zt=function(e){return"/business/salon/".concat(e,"/crew")},Gt=function(e){return"/business/salon/".concat(e,"/service")},Jt=function(e){return"/business/salon/".concat(e)},$t=Object(w.a)({reducerPath:"adminPanelApi",baseQuery:Object(S.d)({baseUrl:k,prepareHeaders:function(e){return B(e)}}),tagTypes:["SalonDetails"],endpoints:function(e){return{fetchAllSalons:e.query({query:function(){return"".concat(Ht)}}),fetchSalonData:e.query({query:function(e){var t=e.salonId;return"".concat(Nt(t))},transformResponse:function(e){return e.salon},providesTags:["SalonDetails"]}),fetchSalonSchedule:e.query({query:function(e){var t=e.salonId;return"".concat(Vt(t))}}),fetchSalonPortfolio:e.query({query:function(e){var t=e.salonId;return"".concat(Qt(t))}}),addCrewMember:e.mutation({query:function(e){var t=e.salonId,n=e.avatarUrl,a=e.fullname;return{url:"".concat(Zt(t)),method:"post",body:{imageUrl:n,name:a}}},invalidatesTags:["SalonDetails"]}),addService:e.mutation({query:function(e){var t=e.salonId,n=e.name,a=e.price,r=e.duration,i=e.description;return{url:"".concat(Gt(t)),method:"post",body:{name:n,price:a,duration:r,description:i}}},invalidatesTags:["SalonDetails"]}),updateSalon:e.mutation({query:function(e){var t=e.salonId,n=e.salon;return{url:"".concat(Jt(t)),method:"PATCH",body:{name:n.name,address:n.address,city:n.city,contact:{phone:n.phone,email:n.email},description:n.description}}},invalidatesTags:["SalonDetails"]})}}}),Kt=$t.useFetchAllSalonsQuery,Xt=$t.useFetchSalonDataQuery,Yt=$t.useFetchSalonPortfolioQuery,en=$t.useFetchSalonScheduleQuery,tn=$t.useAddCrewMemberMutation,nn=$t.useAddServiceMutation,an=$t.useUpdateSalonMutation,rn=function(e){return"/salons/".concat(e)},cn="/salons/rating",on=Object(w.a)({reducerPath:"salonApi",tagTypes:["Salon"],baseQuery:Object(S.d)({baseUrl:k,prepareHeaders:function(e){return B(e)}}),endpoints:function(e){return{fetchSpecifiedSalonData:e.query({query:function(e){var t=e.salonId;return{url:"".concat(rn(t))}},transformResponse:function(e){return e.salon},providesTags:["Salon"]}),addReview:e.mutation({query:function(e){return{url:"".concat(cn),method:"POST",body:e}},invalidatesTags:["Salon"]})}}}),sn=on.useFetchSpecifiedSalonDataQuery,ln=on.useAddReviewMutation,dn=Object(ze.a)({reducer:(lt={user:et,salonsFilters:Ae},Object(X.a)(lt,$t.reducerPath,$t.reducer),Object(X.a)(lt,q.reducerPath,q.reducer),Object(X.a)(lt,ye.reducerPath,ye.reducer),Object(X.a)(lt,on.reducerPath,on.reducer),lt),middleware:function(e){return e().concat($t.middleware,on.middleware,ye.middleware,q.middleware)}}),jn=function(){return Object(Ce.d)()},un=dn,bn=Object(m.a)("form")((function(){return{display:"flex",flexDirection:"column",justifyContent:"center",flexGrow:1}})),pn=Object(m.a)(b.a)((function(){return{marginTop:ne.spacing(2)}})),On=function(){var e=Object(r.useState)(!1),t=Object(d.a)(e,2),n=t[0],a=t[1],i=Object(l.h)(),c=Object(l.g)(),o=jn(),s=Object(g.a)("login"),j=Object(d.a)(s,1)[0],u=Object(ut.b)({mode:"onBlur",defaultValues:{email:i.state,password:""}}),b=u.register,p=u.handleSubmit,O=u.formState,h=O.errors,m=O.isDirty,x=O.isValid,v=function(){var e=Object(ht.a)(Ot.a.mark((function e(t){var n;return Ot.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,gt.a.post("".concat(k,"/auth/signin"),t);case 3:n=e.sent,localStorage.setItem("JWT_TOKEN",n.data.token),o(Ke(n.data.user)),c.push("/"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.response.data.error.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsxs)(bn,{onSubmit:p(v),children:[Object(f.jsx)(it.a,Object(le.a)(Object(le.a)({variant:"outlined",type:"text",size:"small",label:j("form.email.label"),margin:"normal"},b("email",{required:{value:!0,message:j("form.email.validation.required")},minLength:{value:3,message:j("form.email.validation.minLength")},pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:j("form.email.validation.pattern")}})),{},{error:!!h.email,helperText:!!h.email&&h.email.message})),Object(f.jsx)(it.a,Object(le.a)(Object(le.a)({variant:"outlined",type:n?"text":"password",size:"small",label:j("form.password.label"),margin:"normal",InputProps:{endAdornment:Object(f.jsx)(V.a,{edge:"end",onClick:function(){a(!n)},children:n?Object(f.jsx)(Lt.a,{}):Object(f.jsx)(Ut.a,{})})}},b("password",{required:{value:!0,message:j("form.password.validation.required")},minLength:{value:8,message:j("form.password.validation.minLength")}})),{},{error:!!h.password,helperText:!!h.password&&h.password.message})),Object(f.jsx)(pn,{type:"submit",variant:"contained",disableElevation:!0,disabled:!m||!x,children:j("form.signInButton.label")})]})},hn=n(423),mn=n(432),xn=n(491),fn=function(){var e=Object(r.useState)(!1),t=Object(d.a)(e,2),n=t[0],a=t[1],i=Object(l.h)(),c=Object(l.g)(),o=jn(),s=Object(g.a)("login"),j=Object(d.a)(s,1)[0],u=Object(ut.b)({mode:"onBlur",defaultValues:{fullname:"",email:i.state,password:"",role:""}}),b=u.register,p=u.handleSubmit,O=u.formState,h=O.errors,m=O.isDirty,x=O.isValid,v=function(){var e=Object(ht.a)(Ot.a.mark((function e(t){var n;return Ot.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,gt.a.post("".concat(k,"/auth/signup"),t);case 3:n=e.sent,localStorage.setItem("JWT_TOKEN",n.data.token),o(Ke(n.data.user)),c.push("/"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.response.data.error.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsxs)(bn,{onSubmit:p(v),children:[Object(f.jsx)(it.a,Object(le.a)(Object(le.a)({variant:"outlined",type:"text",size:"small",label:"Fullname",margin:"normal"},b("fullname",{required:{value:!0,message:"Field is required"},minLength:{value:3,message:"Field should contains at least 3 characters"}})),{},{error:!!h.fullname,helperText:!!h.fullname&&h.fullname.message})),Object(f.jsx)(it.a,Object(le.a)(Object(le.a)({variant:"outlined",type:"text",size:"small",label:j("form.email.label"),margin:"normal"},b("email",{required:{value:!0,message:j("form.email.validation.required")},minLength:{value:3,message:j("form.email.validation.minLength")},pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:j("form.email.validation.pattern")}})),{},{error:!!h.email,helperText:!!h.email&&h.email.message})),Object(f.jsx)(it.a,Object(le.a)(Object(le.a)({variant:"outlined",type:n?"text":"password",size:"small",label:j("form.password.label"),margin:"normal",InputProps:{endAdornment:Object(f.jsx)(V.a,{edge:"end",onClick:function(){a(!n)},children:n?Object(f.jsx)(Lt.a,{}):Object(f.jsx)(Ut.a,{})})}},b("password",{required:{value:!0,message:j("form.password.validation.required")},minLength:{value:8,message:j("form.password.validation.minLength")}})),{},{error:!!h.password,helperText:!!h.password&&h.password.message})),Object(f.jsxs)(ue.a,{component:"fieldset",children:[Object(f.jsx)(hn.a,{component:"legend",children:"Account type"}),Object(f.jsxs)(mn.a,{name:"account-type",defaultValue:ce.Standard,children:[Object(f.jsx)(xn.a,Object(le.a)({value:ce.Standard,control:Object(f.jsx)(G.a,{}),label:"Standard"},b("role",{required:!0}))),Object(f.jsx)(xn.a,Object(le.a)({value:ce.Business,control:Object(f.jsx)(G.a,{}),label:"Business"},b("role",{required:!0})))]})]}),Object(f.jsx)(pn,{type:"submit",variant:"contained",disableElevation:!0,disabled:!m||!x,children:j("form.signInButton.label")})]})},vn=Object(m.a)(L.a)((function(){return{height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center"}})),gn=function(){var e=Object(l.j)().path;return Object(f.jsx)(vn,{children:Object(f.jsxs)(H.a,{container:!0,justifyContent:"center",children:[Object(f.jsx)(H.a,{item:!0,xs:12,container:!0,justifyContent:"center",rowSpacing:10,children:Object(f.jsx)(j.a,{variant:"h3",component:"h1",children:"Voirsy"})}),Object(f.jsx)(H.a,{item:!0,xs:12,sm:6,lg:4,container:!0,justifyContent:"center",children:Object(f.jsxs)(l.d,{children:[Object(f.jsx)(l.b,{exact:!0,path:"/login",children:Object(f.jsx)(Rt,{})}),Object(f.jsx)(l.b,{path:"".concat(e,"/signin"),children:Object(f.jsx)(On,{})}),Object(f.jsx)(l.b,{path:"".concat(e,"/signup"),children:Object(f.jsx)(fn,{})})]})})]})})},yn=Object(m.a)(O.a)((function(){var e;return e={display:"flex",alignItems:"center",justifyContent:"center",height:"calc(100vh - ".concat(ne.mixins.toolbar.minHeight,"px)")},Object(X.a)(e,ne.breakpoints.up("sm"),{height:"calc(100vh - ".concat(ne.mixins.toolbar["@media (min-width:600px)"].minHeight,"px)")}),Object(X.a)(e,"@media (orientation: landscape)",{height:"calc(100vh - ".concat(ne.mixins.toolbar["@media (min-width:0px) and (orientation: landscape)"].minHeight,"px)")}),e})),wn=function(){return Object(f.jsx)(yn,{children:Object(f.jsx)(p.a,{})})},Sn=(Object(m.a)(O.a)((function(){return{display:"flex",justifyContent:"space-between",alignItems:"center"}})),Object(m.a)(O.a)((function(){return Object(X.a)({display:"none"},ne.breakpoints.up("md"),{display:"block",minWidth:"250px",maxWidth:"250px"})}))),kn=n(460),In=n(492),Tn=function(){var e=Object(l.i)().salonId,t=Object(N.a)(ne.breakpoints.down("md")),n=Object(l.j)(["/salons/:salonId/calendar","/salons/:salonId/portfolio","/salons/:salonId/details"]),a=null===n||void 0===n?void 0:n.path,r=Object(g.a)("admin"),i=Object(d.a)(r,1)[0];return Object(f.jsxs)(kn.a,{"aria-label":i("salonTemplate.nav.aria"),value:a,variant:t?"fullWidth":"standard",children:[Object(f.jsx)(In.a,{component:s.b,label:i("salonTemplate.nav.details"),value:"/salons/:salonId/details",to:"/salons/".concat(e,"/details")}),Object(f.jsx)(In.a,{component:s.b,label:i("salonTemplate.nav.calendar"),value:"/salons/:salonId/calendar",to:"/salons/".concat(e,"/calendar")}),Object(f.jsx)(In.a,{component:s.b,label:i("salonTemplate.nav.portfolio"),value:"/salons/:salonId/portfolio",to:"/salons/".concat(e,"/portfolio")})]})},Cn=n(433),zn=n(434),Dn=n(435),Fn=n(493),An=n(494),Bn=n(326),qn=Object(m.a)(Fn.a)((function(){return{justifyContent:"flex-end"}})),En=Object(m.a)(An.a)((function(){var e;return e={},Object(X.a)(e,ne.breakpoints.down("md"),{".MuiDrawer-paper":{width:"100%"}}),Object(X.a)(e,".MuiDrawer-paper",{border:0}),e})),Wn=Object(m.a)(Bn.a,{shouldForwardProp:function(e){return"active"!==e}})((function(e){var t=e.active;return{padding:ne.spacing(1),"& a":{textDecoration:"none",color:t?ne.palette.primary.main:ne.palette.text.primary}}})),Mn=function(e){var t=e.data,n=Object(g.a)(["admin","common"]),a=Object(d.a)(n,1)[0],r=Object(l.i)().salonId;return Object(f.jsxs)(u.a,{spacing:2,children:[Object(f.jsx)(j.a,{variant:"h5",children:a("salonTemplate.heading.mySalons")}),Object(f.jsx)(b.a,{variant:"outlined",color:"primary",endIcon:Object(f.jsx)(Cn.a,{}),size:"large",children:a("salonTemplate.addSalon")}),t.salons.length>0&&t.salons.map((function(e){var t=e._id,n=e.name,i=e.address,c=e.city,o=e.type;return Object(f.jsx)(Wn,{active:r===t,variant:"outlined",children:Object(f.jsxs)(s.b,{to:"/salons/".concat(t,"/details"),children:[Object(f.jsx)(j.a,{variant:"subtitle1",noWrap:!0,children:n}),Object(f.jsxs)(u.a,{direction:"row",spacing:1,alignItems:"center",color:ne.palette.text.secondary,children:[Object(f.jsx)(zn.a,{}),Object(f.jsx)(j.a,{variant:"body2",noWrap:!0,children:i})]}),Object(f.jsxs)(u.a,{direction:"row",spacing:1,alignItems:"center",color:ne.palette.text.secondary,children:[Object(f.jsx)(Dn.a,{}),Object(f.jsx)(j.a,{variant:"body2",noWrap:!0,children:c})]}),Object(f.jsx)(u.a,{direction:"row",spacing:.5,alignItems:"center",marginTop:1,children:o.map((function(e,t){return Object(f.jsx)(oe.a,{size:"small",color:"secondary",label:a("common:salonType.".concat(e.toLowerCase()))},t)}))})]})},t)}))]})},Pn=function(e){var t=e.children,n=Object(g.a)("admin"),a=Object(d.a)(n,1)[0],i=Kt(),c=i.data,o=void 0===c?{salons:[],message:""}:c,s=i.isFetching,b=i.isError,p=Object(l.g)();return Object(r.useEffect)((function(){!1===s&&o.salons.length&&p.replace("/salons/".concat(o.salons[0]._id,"/details"))}),[s]),s?Object(f.jsx)(wn,{}):b?Object(f.jsx)(j.a,{variant:"h5",textAlign:"center",marginTop:5,children:a("salonTemplate.error")}):Object(f.jsx)(L.a,{maxWidth:!1,children:Object(f.jsxs)(u.a,{direction:"row",spacing:2,children:[Object(f.jsx)(Sn,{children:Object(f.jsx)(Mn,{data:o})}),Object(f.jsx)(O.a,{display:"flex",flexDirection:"column",flexGrow:1,children:o.salons.length>0?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(Tn,{}),t]}):Object(f.jsx)(O.a,{height:"100%",display:"flex",justifyContent:"center",alignItems:"center",children:Object(f.jsx)(j.a,{variant:"h5",textAlign:"center",children:Object(f.jsx)(y.a,{defaults:a("salonTemplate.noSalons"),components:[Object(f.jsx)("br",{},"breakLine")]})})})})]})})},_n=n(437),Rn=n(438),Ln=n(486),Un=n(477),Hn=n(469),Nn=n(497),Vn=n(470),Qn=n(498),Zn=n(499),Gn=n(436),Jn=n(428),$n=n(495),Kn=n(489),Xn=n(490),Yn=function(e){var t,n=e.open,a=e.close,i=Object(ut.b)({mode:"all"}),c=i.register,o=i.handleSubmit,s=i.setValue,j=i.formState,p=j.errors,O=j.isDirty,h=j.isValid,m=Object(l.i)().salonId,x=tn(),v=Object(d.a)(x,2),y=v[0],w=v[1],S=w.isSuccess,I=w.isError,T=Object(g.a)("admin"),C=Object(d.a)(T,1)[0],z=Object(r.useState)(void 0),D=Object(d.a)(z,2),F=D[0],A=D[1],B=Object(_.b)().enqueueSnackbar;Object(r.useEffect)((function(){return S&&B(C("crewDialog.operationSuccess"),{variant:"success",anchorOrigin:{horizontal:"right",vertical:"bottom"}}),I&&B(C("crewDialog.operationError"),{variant:"error",anchorOrigin:{horizontal:"right",vertical:"bottom"}}),function(){a(),A(void 0)}}),[S,I]);var q=function(){var e=Object(ht.a)(Ot.a.mark((function e(t){var n,a,r,i;return Ot.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.fullname,a="",!t.avatar){e.next=15;break}return(r=new FormData).append("avatar",t.avatar),e.prev=5,e.next=8,gt()({method:"post",url:"".concat(k,"/image-upload"),data:r,headers:{"Content-Type":"multipart/form-data"}});case 8:i=e.sent,a=i.data.links[0],e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),console.error(e.t0);case 15:y({salonId:m,avatarUrl:a,fullname:n});case 16:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsxs)(Jn.a,{open:n,maxWidth:"md",fullWidth:!0,children:[Object(f.jsx)($n.a,{children:Object(f.jsxs)(H.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:[C("admin:crewDialog.title"),Object(f.jsx)(V.a,{onClick:a,children:Object(f.jsx)(Gn.a,{})})]})}),Object(f.jsx)(Kn.a,{children:Object(f.jsx)(H.a,{container:!0,justifyContent:"center",paddingTop:3,children:Object(f.jsx)(H.a,{item:!0,xs:8,children:Object(f.jsx)("form",{children:Object(f.jsxs)(u.a,{spacing:2,direction:"row",alignItems:"center",children:[Object(f.jsx)("input",{type:"file",id:"avatar-image-upload",accept:"image/png, image/jpeg",onChange:function(e){return function(e){var t,n,a=null===e||void 0===e||null===(t=e.target)||void 0===t||null===(n=t.files)||void 0===n?void 0:n[0],r=URL.createObjectURL(a);s("avatar",a),A(r)}(e)},hidden:!0}),Object(f.jsx)("label",{htmlFor:"avatar-image-upload",children:Object(f.jsx)(kt.a,{sx:{width:48,height:48},src:F})}),Object(f.jsx)(it.a,Object(le.a)(Object(le.a)({size:"small",variant:"outlined",label:C("admin:crewDialog.fullname")},c("fullname",{required:{value:!0,message:C("crewDialog.form.required")}})),{},{sx:{flexGrow:1},error:!!p.fullname,helperText:null===(t=p.fullname)||void 0===t?void 0:t.message}))]})})})})}),Object(f.jsx)(Xn.a,{sx:{padding:ne.spacing(2,3)},children:Object(f.jsx)(b.a,{variant:"contained",color:"primary",disableElevation:!0,disabled:!O||!h,onClick:o(q),children:C("admin:confirmButton")})})]})},ea=Object(m.a)(Bn.a)((function(){return{padding:ne.spacing(1),flexGrow:1}})),ta=function(e){var t,n,a,i,c=e.open,o=e.close,s=Object(ut.b)({mode:"all"}),j=s.register,p=s.handleSubmit,O=s.formState,h=O.errors,m=O.isDirty,x=O.isValid,v=Object(g.a)("admin"),y=Object(d.a)(v,1)[0],w=nn(),S=Object(d.a)(w,2),k=S[0],I=S[1],T=I.isSuccess,C=I.isError,z=Object(l.i)().salonId,D=Object(_.b)().enqueueSnackbar;return Object(r.useEffect)((function(){return T&&D(y("serviceDialog.operationSuccess"),{variant:"success",anchorOrigin:{horizontal:"right",vertical:"bottom"}}),C&&D(y("serviceDialog.operationSuccess"),{variant:"success",anchorOrigin:{horizontal:"right",vertical:"bottom"}}),function(){return o()}}),[T,C]),Object(f.jsxs)(Jn.a,{open:c,maxWidth:"md",fullWidth:!0,children:[Object(f.jsx)($n.a,{children:Object(f.jsxs)(H.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:[y("admin:serviceDialog.title"),Object(f.jsx)(V.a,{onClick:o,children:Object(f.jsx)(Gn.a,{})})]})}),Object(f.jsx)(Kn.a,{children:Object(f.jsx)(H.a,{container:!0,justifyContent:"center",paddingTop:3,children:Object(f.jsx)(H.a,{item:!0,xs:8,children:Object(f.jsx)("form",{children:Object(f.jsxs)(u.a,{spacing:2,children:[Object(f.jsx)(it.a,Object(le.a)(Object(le.a)({size:"small",variant:"outlined",label:y("admin:serviceDialog.name")},j("name")),{},{error:!!h.name,helperText:null===(t=h.name)||void 0===t?void 0:t.message})),Object(f.jsx)(it.a,Object(le.a)(Object(le.a)({size:"small",variant:"outlined",label:y("admin:serviceDialog.price"),type:"number"},j("price")),{},{InputProps:{endAdornment:Object(f.jsx)(ct.a,{position:"start",children:"\u20ac"}),inputProps:{min:0}},error:!!h.price,helperText:null===(n=h.price)||void 0===n?void 0:n.message})),Object(f.jsx)(it.a,Object(le.a)(Object(le.a)({size:"small",variant:"outlined",label:y("admin:serviceDialog.duration"),type:"number",multiline:!0,maxRows:4},j("duration")),{},{InputProps:{endAdornment:Object(f.jsx)(ct.a,{position:"start",children:"min"}),inputProps:{min:0,step:1}},error:!!h.duration,helperText:null===(a=h.duration)||void 0===a?void 0:a.message})),Object(f.jsx)(it.a,Object(le.a)(Object(le.a)({size:"small",variant:"outlined",label:y("admin:serviceDialog.description")},j("description")),{},{error:!!h.description,helperText:null===(i=h.description)||void 0===i?void 0:i.message}))]})})})})}),Object(f.jsx)(Xn.a,{sx:{padding:ne.spacing(2,3)},children:Object(f.jsx)(b.a,{variant:"contained",color:"primary",disableElevation:!0,disabled:!m||!x,onClick:p((function(e){k(Object(le.a)({salonId:z},e))})),children:y("admin:confirmButton")})})]})},na=function(){var e=Object(l.i)().salonId,t=Xt({salonId:e}),n=t.data,a=t.isFetching,i=Object(ut.b)(),c=i.register,o=i.handleSubmit,s=i.setValue,h=i.formState,m=h.isDirty,x=h.isValid,v=Object(Ce.e)((function(e){var t;return null===(t=e.user)||void 0===t?void 0:t.currency})),y=Object(r.useState)(!1),w=Object(d.a)(y,2),S=w[0],k=w[1],I=Object(r.useState)(!1),T=Object(d.a)(I,2),C=T[0],z=T[1],D=Object(g.a)("admin"),F=Object(d.a)(D,1)[0],A=ke().data,B=Object(r.useState)(""),q=Object(d.a)(B,2),E=q[0],W=q[1],M=an(),P=Object(d.a)(M,2),R=P[0],L=P[1],U=L.isSuccess,N=L.isError,Q=Object(_.b)().enqueueSnackbar;Object(r.useEffect)((function(){a||(s("name",null===n||void 0===n?void 0:n.name,{shouldDirty:!1}),s("address",null===n||void 0===n?void 0:n.address,{shouldDirty:!1}),s("city",null===n||void 0===n?void 0:n.city,{shouldDirty:!1}),s("phone",null===n||void 0===n?void 0:n.phone,{shouldDirty:!1}),s("email",null===n||void 0===n?void 0:n.email,{shouldDirty:!1}),s("description",null===n||void 0===n?void 0:n.description,{shouldDirty:!1}),W(null===n||void 0===n?void 0:n.city))}),[n,a]),Object(r.useEffect)((function(){return U&&Q(F("details.operationSuccess"),{variant:"success",anchorOrigin:{horizontal:"right",vertical:"bottom"}}),N&&Q(F("details.operationError"),{variant:"error",anchorOrigin:{horizontal:"right",vertical:"bottom"}}),function(){return close()}}),[U,N]);return a?Object(f.jsx)(O.a,{flexGrow:1,display:"flex",justifyContent:"center",alignItems:"center",children:Object(f.jsx)(p.a,{})}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(H.a,{container:!0,spacing:2,paddingY:2,children:[Object(f.jsx)(H.a,{item:!0,container:!0,direction:"column",xs:12,lg:6,children:Object(f.jsxs)(u.a,{spacing:2,children:[Object(f.jsxs)(ea,{variant:"outlined",children:[Object(f.jsxs)(H.a,{container:!0,justifyContent:"space-between",alignItems:"center",marginBottom:2,children:[Object(f.jsx)(j.a,{component:"h3",variant:"h6",children:F("details.informations.title")}),Object(f.jsx)(b.a,{variant:"text",size:"small",disabled:!m||!x,onClick:o((function(t){R({salonId:e,salon:t})})),children:F("confirmButton")})]}),Object(f.jsx)("form",{children:Object(f.jsxs)(u.a,{spacing:2,children:[Object(f.jsx)(it.a,Object(le.a)({variant:"outlined",label:F("details.informations.salonName"),size:"small"},c("name"))),Object(f.jsx)(it.a,Object(le.a)({variant:"outlined",label:F("details.informations.address"),size:"small"},c("address"))),Object(f.jsxs)(ue.a,{children:[Object(f.jsx)(Ln.a,{id:"select-label",children:F("details.informations.city")}),Object(f.jsx)(je.a,{labelId:"select-label",size:"small",value:E,onChange:function(e){return function(e){var t=e.target.value;s("city",t,{shouldDirty:!0}),W(t)}(e)},variant:"outlined",children:null===A||void 0===A?void 0:A.cities.map((function(e){return Object(f.jsx)(Z.a,{value:e._id,sx:{textTransform:"capitalize"},children:Object(f.jsx)(J.a,{primary:e.name})},e._id)}))})]}),Object(f.jsx)(it.a,Object(le.a)({variant:"outlined",label:F("details.informations.phone"),size:"small"},c("phone"))),Object(f.jsx)(it.a,Object(le.a)({variant:"outlined",label:F("details.informations.email"),size:"small"},c("email"))),Object(f.jsx)(it.a,Object(le.a)({variant:"outlined",label:F("details.informations.description"),size:"small",multiline:!0,maxRows:4},c("description")))]})})]}),Object(f.jsxs)(ea,{variant:"outlined",children:[Object(f.jsxs)(H.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:[Object(f.jsx)(j.a,{component:"h3",variant:"h6",children:F("details.crew.title")}),Object(f.jsx)(V.a,{size:"small",color:"primary",onClick:function(){return z(!0)},children:Object(f.jsx)(_n.a,{})})]}),Object(f.jsx)(Un.a,{children:(null===n||void 0===n?void 0:n.crew)&&n.crew.map((function(e){return Object(f.jsxs)(Hn.a,{children:[Object(f.jsx)(Nn.a,{children:Object(f.jsx)(kt.a,{src:e.imageUrl})}),Object(f.jsx)(J.a,{primary:e.name})]},e._id)}))})]})]})}),Object(f.jsx)(H.a,{item:!0,container:!0,xs:12,lg:6,alignItems:"stretch",children:Object(f.jsxs)(ea,{variant:"outlined",children:[Object(f.jsxs)(H.a,{container:!0,justifyContent:"space-between",alignItems:"center",marginBottom:1,children:[Object(f.jsx)(j.a,{component:"h3",variant:"h6",children:F("details.services.title")}),Object(f.jsx)(V.a,{size:"small",color:"primary",onClick:function(){return k(!0)},children:Object(f.jsx)(_n.a,{})})]}),(null===n||void 0===n?void 0:n.services)&&n.services.map((function(e){return Object(f.jsxs)(Vn.a,{elevation:0,children:[Object(f.jsx)(Qn.a,{expandIcon:Object(f.jsx)(Rn.a,{}),children:Object(f.jsxs)(u.a,{children:[Object(f.jsx)(j.a,{variant:"subtitle1",component:"p",children:e.name}),Object(f.jsxs)(u.a,{direction:"row",spacing:1,color:ne.palette.text.secondary,children:[Object(f.jsx)(j.a,{variant:"body2",component:"p",children:"".concat(F("details.services.price"),": ").concat(e.price," ").concat(v)}),Object(f.jsx)(j.a,{variant:"body2",component:"p",children:"".concat(F("details.services.duration"),": ").concat(e.duration," min")})]})]})}),Object(f.jsx)(Zn.a,{children:Object(f.jsx)(j.a,{variant:"body2",component:"p",children:e.description})})]},e._id)}))]})})]}),S&&Object(f.jsx)(ta,{open:S,close:function(){return k(!1)}}),C&&Object(f.jsx)(Yn,{open:C,close:function(){return z(!1)}})]})},aa=function(){var e=Object(l.i)().salonId,t=Yt({salonId:e}),n=t.data;return t.isFetching?Object(f.jsx)(O.a,{flexGrow:1,display:"flex",justifyContent:"center",alignItems:"center",children:Object(f.jsx)(p.a,{})}):Object(f.jsx)(O.a,{p:1.5,children:Object(f.jsx)(j.a,{sx:{overflowWrap:"break-word",wordBreak:"break-all"},children:JSON.stringify(n)})})},ra=function(){var e=Object(l.i)().salonId,t=en({salonId:e}),n=t.data;return t.isFetching?Object(f.jsx)(O.a,{flexGrow:1,display:"flex",justifyContent:"center",alignItems:"center",children:Object(f.jsx)(p.a,{})}):Object(f.jsx)(O.a,{p:1.5,children:Object(f.jsx)(j.a,{sx:{overflowWrap:"break-word",wordBreak:"break-all"},children:JSON.stringify(n)})})},ia=function(){var e=Object(g.a)("profile"),t=Object(d.a)(e,1)[0],n=E(),a=n.data,i=void 0===a?[]:a,c=n.isError,o=n.isFetching,s=n.refetch,l=Object(N.a)(ne.breakpoints.up("lg"));return Object(r.useEffect)((function(){s()}),[]),o?Object(f.jsx)(wn,{}):c?Object(f.jsx)(j.a,{textAlign:"center",children:t("favorites.error.unknown")}):Object(f.jsxs)(O.a,{component:"main",maxWidth:l?700:380,margin:"0 auto",padding:2,children:[Object(f.jsx)(j.a,{marginBottom:6,variant:"h4",component:"h1",textAlign:"center",children:t("favorites.heading")}),i.length>0?Object(f.jsx)(H.a,{container:!0,spacing:2,children:i.map((function(e){return Object(f.jsx)(H.a,{item:!0,xs:12,lg:6,children:Object(f.jsx)(tt,{_id:e._id,address:e.address,city:e.city,imageUrl:e.imageUrl,name:e.name,salonType:e.type,rating:e.rating})},e._id)}))}):Object(f.jsx)(j.a,{variant:"h6",textAlign:"center",children:t("favorites.error.noFavorites")})]})},ca=n(388),oa=n(317),sa=n.n(oa),la=Object(m.a)(U.a)((function(){var e;return e={display:"flex",flexDirection:"column",position:"absolute",inset:0,width:"100%",maxWidth:"1000px",backgroundColor:ne.palette.background.paper,borderRadius:ne.shape.borderRadius,overflowY:"auto",overflowX:"hidden"},Object(X.a)(e,ne.breakpoints.up("md"),{top:ne.spacing(4),bottom:ne.spacing(4),left:"50%",transform:"translateX(-50%)"}),Object(X.a)(e,":focus-visible",{outline:"none"}),e})),da=Object(m.a)(V.a)((function(){return Object(X.a)({alignSelf:"center",padding:"2px","> svg":{fontSize:"34px"}},ne.breakpoints.up("md"),{"> svg":{fontSize:"46px"}})})),ja=Object(m.a)(j.a)((function(){return Object(X.a)({fontSize:"18px",fontWeight:ne.typography.fontWeightBold,color:ne.palette.text.primary},ne.breakpoints.up("md"),{fontSize:"28px"})})),ua=Object(m.a)(j.a)((function(){return Object(X.a)({color:ne.palette.text.primary},ne.breakpoints.up("md"),{fontSize:"14px"})})),ba=function(e){var t=e.currentTab,n=Object(l.i)().salonId,a=Object(g.a)("salon"),r=Object(d.a)(a,1)[0],i=Object(N.a)(ne.breakpoints.down("md"));return Object(f.jsx)(U.a,{paddingLeft:i?0:2,maxWidth:"100%",children:Object(f.jsxs)(kn.a,{"aria-label":r("salon:nav.aria"),value:t,variant:i?"fullWidth":"standard",indicatorColor:"secondary",textColor:"secondary",children:[Object(f.jsx)(In.a,{component:s.b,label:r("salon:nav.info"),value:"/:salonId",to:"/".concat(n)}),Object(f.jsx)(In.a,{component:s.b,label:r("salon:nav.reviews"),value:"/:salonId/reviews",to:"/".concat(n,"/reviews")}),Object(f.jsx)(In.a,{component:s.b,label:r("salon:nav.portfolio"),value:"/:salonId/portfolio",to:"/".concat(n,"/portfolio")})]})})},pa=Object(m.a)("img")((function(){return{maxWidth:"100%",marginBottom:ne.spacing(1.5)}})),Oa=Object(m.a)(U.a)((function(){return{borderRadius:ne.shape.borderRadius,border:"1px solid ".concat(ne.palette.grey[300]),padding:ne.spacing(1.25),marginBottom:ne.spacing(1.25)}})),ha=Object(m.a)(j.a)((function(){return{color:ne.palette.text.secondary,fontSize:ne.typography.overline.fontSize}})),ma=Object(m.a)(j.a)((function(){return{fontSize:ne.typography.body2.fontSize,marginBottom:ne.spacing(1.25)}})),xa=Object(m.a)(j.a)((function(){return{fontWeight:ne.typography.fontWeightBold}})),fa=n(439);!function(e){e.Monday="monday",e.Tuesday="tuesday",e.Wednesday="wednesday",e.Thursday="thursday",e.Friday="friday",e.Saturday="saturday",e.Sunday="sunday"}(dt||(dt={}));var va,ga,ya=function(e){var t=e.openingHours,n=Object(g.a)(),a=Object(d.a)(n,1)[0],r=Object.values(dt).map((function(e){return t.find((function(t){return t.name===e}))||{name:e,open:null,close:null}}));return Object(f.jsxs)(Oa,{children:[Object(f.jsx)(ha,{variant:"button",children:a("salon:details.openingHours.label")}),r.map((function(e){var t=e.name,n=e.open,r=e.close;return Object(f.jsxs)(u.a,{direction:"row",spacing:1.25,justifyContent:"space-between",children:[Object(f.jsx)(j.a,{sx:{textTransform:"capitalize"},children:a("salon:details.openingHours.daysOfTheWeek.".concat(t.toLowerCase()))}),Object(f.jsx)(j.a,{children:n&&r?"".concat(n," - ").concat(r):"closed"})]},t)}))]})},wa=function(e){var t=e.phone,n=e.openingHours,a=e.description,r=e.crew,i=Object(g.a)(),c=Object(d.a)(i,1)[0];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(Oa,{children:[Object(f.jsx)(ha,{variant:"button",children:c("salon:details.contact.label")}),Object(f.jsxs)(u.a,{direction:"row",spacing:1.25,justifyContent:"space-between",children:[Object(f.jsx)(fa.a,{}),Object(f.jsx)(j.a,{children:t.replace(/ /g,"").split(/(.{3})/).join(" ")})]})]}),Object(f.jsx)(ya,{openingHours:n}),Object(f.jsxs)(Oa,{children:[Object(f.jsx)(ha,{variant:"button",children:c("salon:details.aboutUs.label")}),Object(f.jsx)(j.a,{children:a})]}),r.length>0&&Object(f.jsxs)(Oa,{children:[Object(f.jsx)(ha,{variant:"button",children:c("salon:details.crew.label")}),Object(f.jsx)(u.a,{overflow:"auto",marginTop:1.25,direction:"row",spacing:2,children:r.map((function(e){return Object(f.jsxs)(u.a,{spacing:1,alignItems:"center",width:"fit-content",children:[Object(f.jsx)(kt.a,{src:e.imageUrl,alt:e.name,sx:{width:70,height:70}}),Object(f.jsx)(j.a,{variant:"body1",children:e.name})]},e._id)}))})]})]})},Sa=n(440),ka=function(e){var t=e._id,n=e.name,a=e.description,r=e.price,i=e.duration,c=Object(g.a)("salon"),o=Object(d.a)(c,1)[0],s=Object(Ce.e)((function(e){var t;return null===(t=e.user)||void 0===t?void 0:t.role})),l=Object(Sa.a)(i),p="";0!==l&&(p+="".concat(l,"h")),p+=" ".concat(i-60*l,"min");var O=D()&&s===ce.Standard;return Object(f.jsxs)(Oa,{children:[Object(f.jsxs)(u.a,{direction:"row",justifyContent:"space-between",alignItems:"center",marginBottom:1,children:[Object(f.jsxs)(u.a,{direction:"row",children:[Object(f.jsxs)(xa,{children:[n,"\xa0"]}),Object(f.jsx)(j.a,{children:"\u2022 ".concat(p)})]}),Object(f.jsxs)(j.a,{children:[r,"$"]})]}),Object(f.jsxs)(u.a,{direction:"row",justifyContent:"space-between",children:[Object(f.jsx)(j.a,{children:a}),O&&Object(f.jsx)(b.a,{variant:"contained",color:"secondary",size:"small",children:o("salon:bookButton.label")})]})]},t)},Ia=function(e){var t=e.description,n=e.imageUrl,a=e.phone,r=e.openingHours,i=e.services,c=e.crew,o=Object(N.a)(ne.breakpoints.down("md")),s=Object(g.a)("salon"),l=Object(d.a)(s,1)[0];return Object(f.jsxs)(u.a,{direction:o?"column":"row",spacing:1.5,children:[Object(f.jsxs)(U.a,{width:"100%",children:[Object(f.jsx)(pa,{src:n,alt:l("salon:salonImg.alt"),sx:{borderRadius:1}}),Object(f.jsx)(U.a,{sx:{display:o?"block":"none"},children:Object(f.jsx)(wa,{description:t,phone:a,openingHours:r,crew:c})}),Object(f.jsxs)("div",{children:[Object(f.jsx)(ma,{variant:"button",paragraph:!0,children:l("salon:details.ourServices.label")}),Object(f.jsx)("div",{children:i.map((function(e){return Object(f.jsx)(ka,Object(le.a)({},e),e._id)}))})]})]}),Object(f.jsx)(U.a,{sx:{display:o?"none":"block",minWidth:"300px",width:"300px"},children:Object(f.jsx)(wa,{description:t,phone:a,openingHours:r,crew:c})})]})},Ta=n(441),Ca=n(442),za=n(461),Da=n(385),Fa=Object(m.a)(j.a)((function(){return{fontSize:ne.typography.h3.fontSize,color:ne.palette.grey[400]}})),Aa=Object(m.a)("div")((function(){return{svg:{width:"80px",height:"80px",fill:ne.palette.grey[400]}}})),Ba=function(e){var t=e.icon,n=e.text;return Object(f.jsx)(U.a,{height:"100%",display:"flex",alignItems:"center",justifyContent:"center",children:Object(f.jsxs)(u.a,{spacing:1.25,alignItems:"center",children:[Object(f.jsx)(Aa,{children:t}),Object(f.jsx)(Fa,{children:n})]})})},qa=n(500),Ea=Object(m.a)(qa.a)((function(){return{position:"absolute",bottom:ne.spacing(3),right:ne.spacing(3)}})),Wa=Object(m.a)(Bn.a)((function(){return{padding:ne.spacing(2),height:"calc(100% - ".concat(ne.spacing(4),")")}})),Ma=Object(m.a)(U.a)((function(){return{position:"absolute",zIndex:ne.zIndex.modal+1,background:"white",bottom:0,left:0,right:0,borderTop:"1px solid ".concat(ne.palette.grey[300]),padding:ne.spacing(2)}})),Pa=n(321),_a=function(e){var t=e.reviews,n=void 0===t?[]:t,a=Object(g.a)("salon"),i=Object(d.a)(a,1)[0],c=Object(Ce.e)((function(e){return e.user})),o=Object(l.i)().salonId,s=n.find((function(e){return e.authorId===(null===c||void 0===c?void 0:c.id)})),p=Object(r.useState)(!1),O=Object(d.a)(p,2),h=O[0],m=O[1],x=Object(r.useState)(""),v=Object(d.a)(x,2),y=v[0],w=v[1],S=Object(r.useState)(null),k=Object(d.a)(S,2),I=k[0],T=k[1],C=ln(),z=Object(d.a)(C,2),F=z[0],A=z[1],B=A.isError,q=A.isSuccess,E=Object(_.b)().enqueueSnackbar,W=D()&&(null===c||void 0===c?void 0:c.role)!==ce.Business&&!s&&!h;return Object(r.useEffect)((function(){B&&E(i("salon:reviews.errorMsg"),{variant:"error"}),q&&E(i("salon:reviews.successMsg"),{variant:"success"})}),[B,q]),Object(f.jsxs)(f.Fragment,{children:[0===n.length?Object(f.jsx)(Ba,{text:i("salon:reviews.noReviews"),icon:Object(f.jsx)(Ta.a,{})}):Object(f.jsx)(H.a,{container:!0,spacing:2.5,children:n.map((function(e){return Object(f.jsx)(H.a,{item:!0,xs:12,md:6,children:Object(f.jsxs)(Wa,{children:[Object(f.jsxs)(u.a,{direction:"row",justifyContent:"space-between",marginBottom:1,children:[Object(f.jsxs)(u.a,{direction:"row",spacing:2,alignItems:"center",justifyContent:"space-between",children:[Object(f.jsx)(kt.a,{alt:e.name,src:e.avatarUrl}),Object(f.jsx)(J.a,{primary:e.name,secondary:Object(Pa.a)(new Date(e.date),"dd MMM y")})]}),Object(f.jsx)(za.a,{name:"Salon rating",value:parseInt(e.rating,10),readOnly:!0})]}),Object(f.jsx)(j.a,{variant:"body1",children:e.description})]})},e.authorId)}))}),W&&Object(f.jsx)(Ea,{size:"medium",color:"secondary","aria-label":"add comment",onClick:function(){return m(!0)},children:Object(f.jsx)(Ta.a,{})}),Object(f.jsx)(Da.a,{in:h,children:Object(f.jsxs)(Ma,{children:[Object(f.jsx)(V.a,{onClick:function(){return m(!1)},sx:{position:"absolute",top:4,right:4},children:Object(f.jsx)(Ca.a,{})}),Object(f.jsxs)(u.a,{spacing:2.5,alignItems:"center",children:[Object(f.jsx)(j.a,{variant:"h5",children:i("salon:reviews.addReviewForm.title")}),Object(f.jsx)(za.a,{value:I,onChange:function(e,t){return T(t)}}),Object(f.jsx)(it.a,{label:i("salon:reviews.addReviewForm.textfield"),variant:"filled",value:y,onChange:function(e){return w(e.target.value)}}),Object(f.jsx)(b.a,{variant:"contained",color:"secondary",size:"large",sx:{width:"144px"},onClick:function(){null!==I&&""!==y&&F({opinion:y,rating:I,salonId:o})},disabled:""===y||null===I,children:i("salon:reviews.addReviewForm.button")})]})]})})]})},Ra=function(e){var t=e.portfolio,n=void 0===t?[]:t,a=Object(g.a)("salon"),r=Object(d.a)(a,1)[0];return Object(f.jsx)(f.Fragment,{children:0===n.length?Object(f.jsx)(Ba,{text:r("salon:portfolio.noImages"),icon:Object(f.jsx)(Ta.a,{})}):Object(f.jsx)(U.a,{height:"100%",children:Object(f.jsx)(H.a,{container:!0,spacing:1,children:n.map((function(e){return Object(f.jsx)(H.a,{item:!0,xs:12,md:4,sx:{height:250},children:Object(f.jsx)("img",{style:{width:"100%",height:"100%",objectFit:"cover"},src:e,alt:"",loading:"lazy"})},e)}))})})})},La=function(){var e=Object(l.g)(),t=Object(l.i)().salonId,n=Object(g.a)("salon"),a=Object(d.a)(n,1)[0],r=sn({salonId:t}),i=r.data,c=r.isFetching,o=r.isError,O=Object(N.a)(ne.breakpoints.down("md")),h=Object(l.j)(["/:salonId/portfolio","/:salonId/reviews","/:salonId"]),m=null===h||void 0===h?void 0:h.path;return o?Object(f.jsx)(ca.a,{open:!0,children:Object(f.jsx)(la,{children:Object(f.jsx)(U.a,{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",children:Object(f.jsxs)(u.a,{maxWidth:"40%",children:[Object(f.jsx)(j.a,{variant:"h4",textAlign:"center",marginBottom:2,children:a("salon:error.unknown")}),Object(f.jsx)(b.a,{variant:"text",component:s.b,to:"/",sx:{alignSelf:"center"},children:a("salon:goBackButton.aria")})]})})})}):c||void 0===i?Object(f.jsx)(ca.a,{open:!0,children:Object(f.jsx)(la,{children:Object(f.jsx)(U.a,{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",children:Object(f.jsx)(p.a,{})})})}):Object(f.jsx)(ca.a,{open:!0,BackdropProps:{onClick:function(){return e.push("/")}},children:Object(f.jsxs)(la,{children:[Object(f.jsxs)(u.a,{direction:"row",spacing:O?1.5:3,sx:{maxWidth:"100%"},padding:O?"10px 15px 0":"25px 25px 0",children:[Object(f.jsx)(da,{component:s.b,to:"/","aria-label":a("salon:goBackButton.aria"),children:Object(f.jsx)(sa.a,{})}),Object(f.jsxs)(u.a,{spacing:-.5,overflow:"hidden",alignSelf:"center",children:[Object(f.jsx)(ja,{variant:"h4",noWrap:!0,children:i.name}),Object(f.jsx)(ua,{variant:"caption",noWrap:!0,children:"".concat(i.address," ").concat(i.city.charAt(0).toUpperCase()).concat(i.city.slice(1))})]})]}),Object(f.jsx)(ba,{currentTab:m}),Object(f.jsxs)(U.a,{padding:O?"10px":"25px",flexGrow:1,overflow:"auto",position:"relative",children:["/:salonId"===m&&Object(f.jsx)(Ia,{description:i.description,phone:i.phone,imageUrl:i.imageUrl,openingHours:i.openingHours,services:i.services,crew:i.crew}),"/:salonId/reviews"===m&&Object(f.jsx)(_a,{reviews:i.reviews}),"/:salonId/portfolio"===m&&Object(f.jsx)(Ra,{portfolio:i.portfolio})]})]})})},Ua=n(453),Ha=n(443),Na=n(444),Va=n(445),Qa=n(446),Za=n(447),Ga=n(100),Ja=Object(m.a)(Fn.a)((function(){return{justifyContent:"flex-end"}})),$a=Object(m.a)(An.a)((function(e){var t,n=e.theme;return t={},Object(X.a)(t,n.breakpoints.down("md"),{".MuiDrawer-paper":{width:"100%"}}),Object(X.a)(t,".MuiDrawer-paper",{border:0}),t})),Ka=Object(m.a)(Un.a)((function(e){var t=e.theme;return{"& > a":Object(X.a)({color:t.palette.text.primary},t.breakpoints.up("md"),{width:"100%",padding:"8px 40px"}),"& > .selected":{color:t.palette.primary.main,"& svg":{fill:t.palette.primary.main}}}})),Xa=function(e){var t=e.isMenuOpen,n=e.handleClose,a=Object(l.h)(),i=Object(Ga.a)(),c=Object(N.a)(i.breakpoints.down("md")),o=Object(g.a)("profile"),j=Object(d.a)(o,1)[0];Object(r.useEffect)((function(){return n()}),[a]);var u=[{link:"/profile/edit",text:j("navigation.account"),icon:Object(f.jsx)(Ha.a,{})},{link:"/profile/password",text:j("navigation.password"),icon:Object(f.jsx)(Na.a,{})},{link:"/profile/delete",text:j("navigation.deleteAccount"),icon:Object(f.jsx)(Va.a,{})},{link:"/profile/favorites",text:j("navigation.favorites"),icon:Object(f.jsx)(Qa.a,{})}];return Object(f.jsxs)($a,{open:t,variant:c?"temporary":"permanent",children:[Object(f.jsx)(Ja,{children:c?Object(f.jsx)(V.a,{onClick:n,children:Object(f.jsx)(Gn.a,{})}):null}),Object(f.jsx)(Ka,{children:u.map((function(e){var t=e.icon,n=e.link,a=e.text;return Object(f.jsxs)(Hn.a,{button:!0,component:s.c,activeClassName:"selected",to:n,children:[Object(f.jsx)(Za.a,{children:t}),Object(f.jsx)(J.a,{primary:a})]},n)}))})]})},Ya=n(501),er=Object(m.a)(Ya.a)((function(){return Object(X.a)({zIndex:1},ne.breakpoints.up("md"),{zIndex:ne.zIndex.drawer+1})})),tr=Object(m.a)(Fn.a)((function(){return{justifyContent:"space-between"}})),nr=Object(m.a)(b.a)((function(){return{color:"#fff",textDecoration:"none"}})),ar=Object(m.a)(V.a)((function(){return{paddingLeft:0,paddingRight:ne.spacing(2.5)}})),rr=Object(m.a)(V.a)((function(){return{padding:0}})),ir=Object(m.a)(j.a)((function(){return{marginRight:ne.spacing(1),height:"fit-content",color:ne.palette.grey[500]}})),cr=Object(m.a)(Z.a)((function(){return{paddingRight:ne.spacing(3)}})),or=Object(m.a)(s.b)(va||(va=Object(Re.a)(["\n  text-decoration: none;\n  color: ",";\n"])),ne.palette.text.primary),sr=function(e){var t=e.isMenuOpen,n=e.handleClose,a=Object(l.h)(),i=Kt().data,c=void 0===i?{salons:[],message:""}:i;return Object(r.useEffect)((function(){return n()}),[a]),Object(f.jsxs)(En,{open:t,variant:"temporary",children:[Object(f.jsx)(qn,{children:Object(f.jsx)(V.a,{onClick:n,children:Object(f.jsx)(Gn.a,{})})}),Object(f.jsx)(O.a,{padding:2,children:Object(f.jsx)(Mn,{data:c})})]})},lr=n(322),dr=n(448),jr=n(449),ur=n(450),br=n(451),pr=n(452),Or=function(e){var t=e.open,n=e.anchorEl,a=e.onClose,r=Object(Ce.e)((function(e){var t;return null===(t=e.user)||void 0===t?void 0:t.role})),i=Object(l.g)(),c=Object(g.a)("header"),o=Object(d.a)(c,1)[0];return Object(f.jsxs)(lr.a,{anchorEl:n,open:t,onClose:a,onClick:a,transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[Object(f.jsxs)(cr,{component:s.b,to:"/profile/edit",children:[Object(f.jsx)(Za.a,{children:Object(f.jsx)(dr.a,{})}),o("navigation.profile")]}),"STANDARD"===r&&Object(f.jsxs)(cr,{component:s.b,to:"/profile/favorites",children:[Object(f.jsx)(Za.a,{children:Object(f.jsx)(jr.a,{})}),o("navigation.favorites")]}),"STANDARD"===r&&Object(f.jsxs)(cr,{children:[Object(f.jsx)(Za.a,{children:Object(f.jsx)(ur.a,{})}),o("navigation.schedule")]}),"BUSINESS"===r&&Object(f.jsxs)(cr,{component:s.b,to:"/salons",children:[Object(f.jsx)(Za.a,{children:Object(f.jsx)(br.a,{})}),o("navigation.business")]}),Object(f.jsxs)(cr,{onClick:function(){return A(i.push)},children:[Object(f.jsx)(Za.a,{children:Object(f.jsx)(pr.a,{})}),o("navigation.signOut")]})]})},hr=function(){var e=Object(r.useState)(null),t=Object(d.a)(e,2),n=t[0],a=t[1],i=Object(r.useState)(!1),c=Object(d.a)(i,2),o=c[0],u=c[1],b=Object(g.a)("header"),p=Object(d.a)(b,1)[0],h=Object(l.h)().pathname,m=Object(Ce.e)((function(e){var t;return null===(t=e.user)||void 0===t?void 0:t.fullname})),x=Boolean(n),v=Object(N.a)((function(e){return e.breakpoints.up("md")}));return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(er,{color:"transparent",elevation:0,position:"relative",children:Object(f.jsxs)(tr,{children:[Object(f.jsxs)(O.a,{display:"flex",children:[(h.startsWith("/profile")||h.startsWith("/salons"))&&!v&&Object(f.jsx)(ar,{onClick:function(){return u(!0)},children:Object(f.jsx)(Ua.a,{})}),Object(f.jsx)(or,{to:"/",children:Object(f.jsx)(j.a,{variant:"h4",component:"h1",children:p("title")})})]}),Object(f.jsx)(O.a,{display:"flex",alignItems:"center",children:D()?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(ir,{variant:"body2",children:m}),Object(f.jsx)(rr,{onClick:function(e){return a(e.currentTarget)},children:Object(f.jsx)(kt.a,{children:"S"})})]}):Object(f.jsx)(nr,{variant:"contained",color:"primary",disableElevation:!0,component:s.b,to:"/login",children:p("button.signin")})})]})}),Object(f.jsx)(Or,{open:x,onClose:function(){return a(null)},anchorEl:n}),D()&&h.startsWith("/profile")&&Object(f.jsx)(Xa,{handleClose:function(){return u(!1)},isMenuOpen:o}),D()&&h.startsWith("/salons")&&Object(f.jsx)(sr,{handleClose:function(){return u(!1)},isMenuOpen:o})]})};!function(e){e.Normal="NORMAL",e.Business="BUSINESS",e.Unauthorized="UNAUTHORIZED"}(ga||(ga={}));var mr=function(e){var t=e.children,n=e.path,a=e.render,r=e.userType,i=void 0===r?ga.Normal:r,c=Object(Ce.e)((function(e){var t;return null===(t=e.user)||void 0===t?void 0:t.role}));return i===ga.Business&&c===ce.Standard||i!==ga.Unauthorized&&!D()||i===ga.Unauthorized&&D()?Object(f.jsx)(l.a,{to:"/"}):a?Object(f.jsx)(l.b,{path:n,render:a,children:t}):Object(f.jsx)(l.b,{path:n,children:t})},xr=function(){return Object(f.jsx)(s.a,{basename:"/voirsy-front-end",children:Object(f.jsx)(Pt,{children:Object(f.jsx)(r.Suspense,{fallback:"loading",children:Object(f.jsxs)(l.d,{children:[Object(f.jsx)(mr,{userType:ga.Unauthorized,path:"/login",children:Object(f.jsx)(gn,{})}),Object(f.jsx)(mr,{path:"/profile",render:function(e){var t=e.match.url;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(hr,{}),Object(f.jsxs)(l.d,{children:[Object(f.jsx)(l.b,{path:"".concat(t,"/edit"),children:Object(f.jsx)(Ft,{})}),Object(f.jsx)(l.b,{path:"".concat(t,"/password"),children:Object(f.jsx)(bt,{})}),Object(f.jsx)(l.b,{path:"".concat(t,"/delete"),children:Object(f.jsx)(R,{})}),Object(f.jsx)(l.b,{path:"".concat(t,"/favorites"),children:Object(f.jsx)(ia,{})}),Object(f.jsx)(l.b,{path:"*",children:Object(f.jsx)(l.a,{to:"".concat(t,"/edit")})})]})]})}}),Object(f.jsx)(mr,{userType:ga.Business,path:"/salons",render:function(e){var t=e.match.url;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(hr,{}),Object(f.jsxs)(l.d,{children:[Object(f.jsx)(l.b,{path:"".concat(t,"/:salonId/calendar"),children:Object(f.jsx)(Pn,{children:Object(f.jsx)(ra,{})})}),Object(f.jsx)(l.b,{path:"".concat(t,"/:salonId/portfolio"),children:Object(f.jsx)(Pn,{children:Object(f.jsx)(aa,{})})}),Object(f.jsx)(l.b,{path:"".concat(t,"/add/:step"),children:Object(f.jsx)("p",{children:"Add salon"})}),Object(f.jsx)(l.b,{path:["".concat(t,"/:salonId/details")],children:Object(f.jsx)(Pn,{children:Object(f.jsx)(na,{})})}),Object(f.jsx)(l.b,{path:"*",children:Object(f.jsx)(Pn,{})})]})]})}}),Object(f.jsx)(l.b,{path:"/",render:function(e){var t=e.match.url;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(hr,{}),Object(f.jsx)(nt,{}),Object(f.jsxs)(l.d,{children:[Object(f.jsx)(l.b,{path:"".concat(t,":salonId/reviews"),children:Object(f.jsx)(La,{})}),Object(f.jsx)(l.b,{path:"".concat(t,":salonId/portfolio"),children:Object(f.jsx)(La,{})}),Object(f.jsx)(mr,{path:"".concat(t,":salonId/reservation"),children:Object(f.jsx)("p",{children:"Reservations"})}),Object(f.jsx)(l.b,{path:["".concat(t,":salonId"),"".concat(t,":salonId/information")],children:Object(f.jsx)(La,{})})]})]})}})]})})})})},fr=(n(375),n(203)),vr=n(84),gr=n(318),yr=n(319);fr.a.use(gr.a).use(yr.a).use(vr.e).init({backend:{loadPath:"".concat("/voirsy-front-end","/locales/{{lng}}/{{ns}}.json"),allowMultiLoading:!0},fallbackLng:"en-us",lowerCaseLng:!0,load:"currentOnly"});fr.a;o.a.render(Object(f.jsx)(i.a.StrictMode,{children:Object(f.jsx)(Ce.a,{store:un,children:Object(f.jsx)(xr,{})})}),document.getElementById("root"))}},[[376,1,2]]]);
//# sourceMappingURL=main.41df797f.chunk.js.map